(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{389:function(t,e,a){"use strict";a.r(e);var n=a(360),r=a.n(n),c=a(363),i=a(94),o=a(6),u=a(0),s=a(364),l=a.n(s),b=a(384),d=a(387),p=a.n(d),f=a(93),g=a(129),O=a(61),j=a.n(O),m=a(385),h=a.n(m),y=a(386),v=a.n(y),N=function(t,e,a,n,r){return!r&&a>(e-1)*n+t},_=function(t,e){return!e&&t>1},k=function(t){var e=t.changePage,a=t.currentQueryParams,n=t.pieData,r=t.loading,c=t.totalResults,i=t.displayResults;return Object(o.b)(u.Fragment,null,i,Object(o.b)(j.a,{"aria-label":"Navigate Back a page",color:"inherit",onClick:function(){return e(_(a._page,r)&&a._page-1)},disabled:!_(a._page,r)},Object(o.b)(h.a,null)),Object(o.b)(j.a,{color:"inherit","aria-label":"Navigate forward a page",onClick:function(){return e(N(n?n.length:0,a._page,c,a._limit,r)&&a._page+1)},disabled:!N(n?n.length:0,a._page,c,a._limit,r)},Object(o.b)(v.a,null)))},P=function(t,e){var a=Object(u.useState)(t),n=Object(i.a)(a,2),r=n[0],c=n[1];return Object(u.useEffect)(function(){var a=setTimeout(function(){c(t)},e);return function(){clearTimeout(a)}},[t]),r},S=a(96),w=function(t){var e=[];return t.forEach(function(t){var a={displayName:t.displayName,storeName:t.store.displayName,price:t.price,priceString:t.priceString,address:t.store.address,quantity:t.quantity,rating:t.store.rating,contact:t.store.mobile};e.push(a)}),e},R=function(t){var e="";return Object.entries(t).forEach(function(t){""!==t[1]&&(e+="&".concat(t[0],"=").concat(t[1]))}),e},C=a(60),x=a(44),D=[{dataName:"displayName",title:"Pie  Name",sort:!0},{dataName:"priceString",title:"Price",sort:!0},{dataName:"quantity",title:"Quantity",sort:!0},{dataName:"storeName",title:"Store Name",sort:!0},{dataName:"address",title:"Address",sort:!0},{dataName:"rating",title:"Rating",sort:!0},{dataName:"contact",title:"Mobile",sort:!0}];e.default=function(){var t=Object(u.useState)(),e=Object(i.a)(t,2),a=e[0],n=e[1],s=Object(u.useState)(""),d=Object(i.a)(s,2),O=d[0],j=d[1],m=Object(u.useState)(!0),h=Object(i.a)(m,2),y=h[0],v=h[1],N=Object(u.useState)(0),_=Object(i.a)(N,2),T=_[0],E=_[1],Q=Object(g.b)(),q=Object(u.useState)({_order:"",_sort:"",displayName:"",_page:1,_limit:5}),A=Object(i.a)(q,2),J=A[0],M=A[1],z=function(){var t=Object(c.a)(r.a.mark(function t(e){var a,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.next=3,l.a.get("https://pie.now.sh/pies?_expand=store&isPieOfTheDay=true"+R(e));case 3:a=t.sent,c=w(a.data),n(c),E(a.headers["x-total-count"]),v(!1);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),B=P(O,500);Object(u.useEffect)(function(){z(J)},[B]);var F=function(){var t=a?a.length:0,e=(J._page-1)*J._limit,n=e+t;return"".concat(e," to ").concat(n)},I=function(t){var e=J;e._page=t,M(e),z(e)};return Object(o.b)(S.a,null,Object(o.b)(C.b,null,Object(o.b)(x.a,null,Object(o.b)(x.a,{style:{flex:"1"}},Object(o.b)(C.d,{control:Object(o.b)(C.e,{checked:Q.darkmode,onChange:function(){Q.toggle()},value:"darkmode"}),label:"DarkMode"})),Object(o.b)(f.b,{to:"example"},"Test Lazy loaded route")),Object(o.b)(b.a,{data:a||[],columns:D,header:"Pies of the day Total Results: ".concat(T),headerCustomContent:Object(o.b)(C.h,null,Object(o.b)(C.f,{id:"search-field",label:"Search",onChange:function(t){!function(t){v(!0);var e=J;e.displayName=t,M(e),j(t)}(t.target.value)},InputProps:{startAdornment:Object(o.b)(p.a,null)}}),Object(o.b)(k,{totalResults:T,changePage:I,pieData:a||[],loading:y,currentQueryParams:J,displayResults:F()})),loading:y,sortCallback:function(t){!function(t,e){v(!0);var a=J;a._sort=t,a._order=e||"",M(a),z(a)}(t.dataName,t.order)}}),Object(o.b)(C.g,null,Object(o.b)(k,{totalResults:T,changePage:I,pieData:a||[],loading:y,currentQueryParams:J,displayResults:F()}))))}}}]);
//# sourceMappingURL=5.894a31d9.chunk.js.map